<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Farm">Farm</h1>

<p>¡Bienvenido a tu nueva gema! En este directorio, encontrará los archivos que necesita para poder empaquetar su biblioteca Ruby en una gema. Pon tu código Ruby en el archivo <code>lib/farm</code>. Para experimentar con ese código, ejecute <code>bin/console</code> para obtener un mensaje interactivo.</p>

<h2 id="label-Instalaci-C3-B3n">Instalación</h2>

<p>Agregue esta línea al Gemfile de su aplicación:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>farm</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>Y luego ejecuta:</p>

<pre class="code ruby"><code class="ruby">$ bundle install
</code></pre>

<p>O instálalo tu mismo de la siguiente manera:</p>

<pre class="code ruby"><code class="ruby">$ gem install farm
</code></pre>

<h2 id="label-Desarrollo">Desarrollo</h2>

<p>Después de verificar el repositorio, ejecute <code>bin/setup</code> para instalar las dependencias. Luego, ejecute <code>rake spec</code> para ejecutar las pruebas. También puede ejecutar <code>bin/console</code> para obtener un mensaje interactivo que le permitirá experimentar.</p>

<p>Para instalar esta gema en su máquina local, ejecute <code>bundle exec rake install</code>. Para lanzar una nueva versión, actualice el número de versión en <code>version.rb</code>, y luego ejecute<code>bundle exec rake release</code>, que creará una etiqueta git para la versión, enviará git commits y etiquetas, y luego enviará el <code>.gem</code> archivo a [rubygems.org] (<a href="https://rubygems.org">rubygems.org</a>).</p>

<h2 id="label-Contribuciones">Contribuciones</h2>

<p>Los informes de errores y las pull requests son bienvenidos en GitHub en <a href="https://github.com/ULL-ESIT-LPP-2122/granja-alu0101206011">github.com/ULL-ESIT-LPP-2122/granja-alu0101206011</a>.</p>

<h1 id="label-Clases+de+la+gema">Clases de la gema</h1>

<h1 id="label-M-C3-B3dulo+Funcion">Módulo Funcion</h1>

<p>Módulo para representar las funcionalidades de una granja mediante un módulo.</p>

<h2 id="label-Constantes">Constantes</h2>
<ul><li>
<p>JAULA = :jaula Es un símbolo para representar el sistema de gestión en jaula</p>
</li><li>
<p>CAMPO_ABIERTO = :campo_abierto Es un símbolo para representar el sistema de gestión en campo abierto</p>
</li></ul>

<h2 id="label-Procedimientos">Procedimientos</h2>
<ul><li>
<p>self.cuidados</p>
</li></ul>

<p>Recorremos al grupo de animales sumandoles el valor y devolviendo una copia.</p>

<p>Podemos hacer esto gracias a la sobrecarga del operador suma que se encuentra en Ganado.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cuidados'>cuidados</span> <span class='lparen'>(</span><span class='id identifier rubyid_cantidad_antibiotico'>cantidad_antibiotico</span><span class='comma'>,</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ganado'>ganado</span><span class='op'>|</span> <span class='id identifier rubyid_ganado'>ganado</span> <span class='op'>+</span> <span class='id identifier rubyid_cantidad_antibiotico'>cantidad_antibiotico</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>
<ul><li>
<p>self.reproduccion</p>
</li></ul>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_reproduccion'>reproduccion</span> <span class='lparen'>(</span><span class='id identifier rubyid_dias'>dias</span><span class='comma'>,</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ganado'>ganado</span><span class='op'>|</span> <span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_edad'>edad</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_dias'>dias</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
</code></pre>

<p>Es un procedimiento para establecer la reproducción de los animales.</p>

<p>En este procedimiento se comparan los días con la edad del ganado.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'><span class='object_link'><a href="Farm.html" title="Farm (module)">Farm</a></span></span>
  <span class='kw'>module</span> <span class='const'>Funcion</span>
    <span class='const'>CONDICIONES_VIDA</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>campo abierto</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>establo</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='const'>JAULA</span> <span class='op'>=</span> <span class='symbol'>:jaula</span>
    <span class='const'>CAMPO_ABIERTO</span> <span class='op'>=</span> <span class='symbol'>:campo_abierto</span>
    <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cuidados'>cuidados</span> <span class='lparen'>(</span><span class='id identifier rubyid_cantidad_antibiotico'>cantidad_antibiotico</span><span class='comma'>,</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ganado'>ganado</span><span class='op'>|</span> <span class='id identifier rubyid_ganado'>ganado</span> <span class='op'>+</span> <span class='id identifier rubyid_cantidad_antibiotico'>cantidad_antibiotico</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_reproduccion'>reproduccion</span> <span class='lparen'>(</span><span class='id identifier rubyid_dias'>dias</span><span class='comma'>,</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_grupo'>grupo</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ganado'>ganado</span><span class='op'>|</span> <span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_edad'>edad</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_dias'>dias</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>
<ul><li>
<p>self.bienestar</p>
</li></ul>

<p>Procedimiento creado para calcular el indice de bienestar animal.</p>

<p>Se realiza con el siguiente planteamiento:  1) Calcular todos los ratios de peso/edad de los animales de una granja y dividirlo por el número de animales de la misma.  2) Calcular el máximo de los ratios de peso/edad de los animales de una granja.  3) Utilizar el máximo para calcular el índice de bienestar animal haciendo una proporción a 100 si es campo abierto y a 50 en caso contrario.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_bienestar'>bienestar</span> <span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='comma'>,</span> <span class='id identifier rubyid_condicion'>condicion</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_array_ratios'>array_ratios</span> <span class='op'>=</span> <span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_censo'>censo</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_animal'>animal</span><span class='op'>|</span> <span class='id identifier rubyid_animal'>animal</span><span class='period'>.</span><span class='id identifier rubyid_peso'>peso</span> <span class='op'>/</span> <span class='id identifier rubyid_animal'>animal</span><span class='period'>.</span><span class='id identifier rubyid_edad'>edad</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_mediaRatios'>mediaRatios</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_array_ratios'>array_ratios</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span> <span class='lparen'>(</span><span class='symbol'>:+</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_numero_animales'>numero_animales</span>
  <span class='id identifier rubyid_maxRatio'>maxRatio</span> <span class='op'>=</span> <span class='id identifier rubyid_array_ratios'>array_ratios</span><span class='period'>.</span><span class='id identifier rubyid_max_by'>max_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ratio'>ratio</span><span class='op'>|</span> <span class='id identifier rubyid_ratio'>ratio</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_mediaRatios'>mediaRatios</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_condicion'>condicion</span> <span class='op'>==</span> <span class='symbol'>:campo_abierto</span> <span class='op'>?</span> <span class='int'>100</span> <span class='op'>:</span> <span class='int'>50</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_maxRatio'>maxRatio</span> <span class='comment'># Si el maximo de los ratios es (100 | 50), la media de ellos es x
</span><span class='kw'>end</span>
</code></pre>
<ul><li>
<p>self.beneficio</p>
</li></ul>

<p>Procedimiento creado para calcular el indice de beneficio neto animal.</p>

<p>Se realiza con el siguiente planteamiento:  * Calcular todos los ratios en función del precio de venta, donde si los animales tienen como destino el sacrificio, el índice se calculará además  en función de la media del peso, en otro caso, se usará el de edad y precio de venta.  de los animales de una granja y dividirlo por el número de animales de la misma.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_beneficio'>beneficio</span> <span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_arrayPeso'>arrayPeso</span> <span class='op'>=</span> <span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_censo'>censo</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> 
    <span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_destino'>destino</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sacrificio</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_peso'>peso</span> <span class='op'>:</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_edad'>edad</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_precio_venta'>precio_venta</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_mediaPeso'>mediaPeso</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_arrayPeso'>arrayPeso</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span> <span class='lparen'>(</span><span class='symbol'>:+</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>/</span><span class='id identifier rubyid_ganado'>ganado</span><span class='period'>.</span><span class='id identifier rubyid_numero_animales'>numero_animales</span>
  <span class='id identifier rubyid_mediaPeso'>mediaPeso</span> <span class='op'>*</span> <span class='int'>100</span> <span class='op'>/</span> <span class='id identifier rubyid_arrayPeso'>arrayPeso</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
<span class='kw'>end</span>
</code></pre>
<ul><li>
<p>self.productividad</p>
</li></ul>

<p>Es un procedimiento para calcular el índice de productividad, para ello se realiza lo siguiente:  * Para calcular el indice de productividad basandonos en los niveles de bienestar se ha realizado un operador ternario donde:  * Si el indice de bienestar es &gt;= que 80 el indice de productividad es 3.  * Si el indice de bienestar está entre 20 y 80 el índice de productividad es 2.  * Si el indice de bienestar no coincide con lo anterior, el índice de productividad es 1.</p>
<ul><li>
<p>Para calcular el indice de productividad basandonos en los niveles de beneficio se ha realizado un operador ternario donde:</p>
<ul><li>
<p>Si el indice de beneficio es &gt; que 50 el indice de productividad es 3.</p>
</li><li>
<p>Si el indice de beneficio está entre, ambos inclusive, 10 y 50 el índice de productividad es 2.</p>
</li><li>
<p>Si el indice de beneficio no coincide con lo anterior, el índice de productividad es 1.</p>
</li></ul>
</li></ul>

<p>Luego hacemos la media entre los dos y truncamos el resultado para que sea un índice sin decimales y sin redondeo.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_productividad'>productividad</span><span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='comma'>,</span> <span class='id identifier rubyid_condicion'>condicion</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_indice_bienestar'>indice_bienestar</span> <span class='op'>=</span> <span class='id identifier rubyid_bienestar'>bienestar</span><span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='comma'>,</span> <span class='id identifier rubyid_condicion'>condicion</span><span class='rparen'>)</span> <span class='op'>&gt;=</span> <span class='int'>80</span> <span class='op'>?</span> <span class='int'>3</span> <span class='op'>:</span> <span class='id identifier rubyid_bienestar'>bienestar</span><span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='comma'>,</span> <span class='id identifier rubyid_condicion'>condicion</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='int'>20</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_bienestar'>bienestar</span><span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='comma'>,</span> <span class='id identifier rubyid_condicion'>condicion</span><span class='rparen'>)</span> <span class='op'>&lt;</span> <span class='int'>80</span> <span class='op'>?</span> <span class='int'>2</span> <span class='op'>:</span> <span class='int'>1</span>
  <span class='id identifier rubyid_indice_beneficio'>indice_beneficio</span> <span class='op'>=</span> <span class='id identifier rubyid_beneficio'>beneficio</span><span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='int'>50</span> <span class='op'>?</span> <span class='int'>3</span> <span class='op'>:</span> <span class='id identifier rubyid_beneficio'>beneficio</span><span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='rparen'>)</span> <span class='op'>&gt;=</span> <span class='int'>10</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_beneficio'>beneficio</span><span class='lparen'>(</span><span class='id identifier rubyid_ganado'>ganado</span><span class='rparen'>)</span> <span class='op'>&lt;=</span> <span class='int'>50</span> <span class='op'>?</span> <span class='int'>2</span> <span class='op'>:</span> <span class='int'>1</span>
  <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_indice_bienestar'>indice_bienestar</span> <span class='op'>+</span> <span class='id identifier rubyid_indice_beneficio'>indice_beneficio</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<h2 id="label-M-C3-A9todos">Métodos</h2>

<h3 id="label-to_s">to_s</h3>

<p>Método que transforma el objeto en un string.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span> 
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Condiciones de vida: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@vida</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nTipos de cuidados: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@cuidados</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nReproducción: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@reproduccion</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<h1 id="label-Clase+Datos">Clase Datos</h1>

<p>Es una de las clases de la gema. Esta clase tiene como función el representar la granja propiamente dicha.</p>

<h2 id="label-Atributos">Atributos</h2>
<ul><li>
<p>id: atributo que contiene la identificación la granja.</p>
</li><li>
<p>nombre: atributo que contiene el nombre de la granja.</p>
</li><li>
<p>tipo: atributo que contiene el tipo de granja <code>(Tradicional, Comercial)</code>.</p>
</li><li>
<p>descripcion: atributo que contiene una descripción de la granja.</p>
</li></ul>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'><span class='object_link'><a href="Farm.html" title="Farm (module)">Farm</a></span></span>
  <span class='kw'>class</span> <span class='const'>Datos</span>
    <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:id</span><span class='comma'>,</span> <span class='symbol'>:nombre</span><span class='comma'>,</span> <span class='symbol'>:tipo</span><span class='comma'>,</span> <span class='symbol'>:descripcion</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_nombre'>nombre</span><span class='comma'>,</span> <span class='id identifier rubyid_tipo'>tipo</span><span class='comma'>,</span> <span class='id identifier rubyid_descripcion'>descripcion</span><span class='rparen'>)</span>
      <span class='ivar'>@id</span> <span class='op'>=</span> <span class='id identifier rubyid_id'>id</span>
      <span class='ivar'>@nombre</span> <span class='op'>=</span> <span class='id identifier rubyid_nombre'>nombre</span>
      <span class='ivar'>@tipo</span> <span class='op'>=</span> <span class='id identifier rubyid_tipo'>tipo</span>
      <span class='ivar'>@descripcion</span> <span class='op'>=</span> <span class='id identifier rubyid_descripcion'>descripcion</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<h2 id="label-M-C3-A9todos">Métodos</h2>

<h3 id="label-to_s">to_s</h3>

<p>Retorna una cadena con la información de la clase Datos correctamente formateada.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Identificador de la granja: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nNombre de la granja: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_nombre'>nombre</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nTipo de granja: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tipo'>tipo</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nDescripción: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_descripcion'>descripcion</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<h1 id="label-Clase+Ganadera">Clase Ganadera</h1>

<p>Clase heredada de datos para representar los datos de una granja ganadera.</p>

<h2 id="label-Atributos+de+instancia">Atributos de instancia</h2>
<ul><li>
<p>tipo_ganado: Contiene el tipo de ganado que se encuentra en la granja (bovino, ovino, caprino o porcino).</p>
</li><li>
<p>destino: Contiene el destino del animal (leche, sacrificio).</p>
</li><li>
<p>numero_animales: Contiene el numero de animales de la granja</p>
</li><li>
<p>precio_unitario: Contiene el precio unitario de los animales.</p>
</li><li>
<p>precio_venta: Contiene el precio de venta de los animales</p>
</li><li>
<p>censo: Contiene los animales de la granja. Es un array de tipo Ganado.</p>
</li></ul>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'><span class='object_link'><a href="Farm.html" title="Farm (module)">Farm</a></span></span>
  <span class='kw'>class</span> <span class='const'>Ganadera</span> <span class='op'>&lt;</span> <span class='const'>Datos</span>
    <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:tipo_ganado</span><span class='comma'>,</span> <span class='symbol'>:destino</span><span class='comma'>,</span> <span class='symbol'>:numero_animales</span><span class='comma'>,</span> <span class='symbol'>:precio_unitario</span><span class='comma'>,</span> <span class='symbol'>:precio_venta</span><span class='comma'>,</span> <span class='symbol'>:censo</span>

    <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_nombre'>nombre</span><span class='comma'>,</span> <span class='id identifier rubyid_tipo'>tipo</span><span class='comma'>,</span> <span class='id identifier rubyid_descripcion'>descripcion</span><span class='comma'>,</span> <span class='id identifier rubyid_tipo_ganado'>tipo_ganado</span><span class='comma'>,</span> <span class='id identifier rubyid_destino'>destino</span><span class='comma'>,</span> <span class='id identifier rubyid_numero_animales'>numero_animales</span><span class='comma'>,</span> <span class='id identifier rubyid_precio_unitario'>precio_unitario</span><span class='comma'>,</span> <span class='id identifier rubyid_precio_venta'>precio_venta</span><span class='comma'>,</span> <span class='id identifier rubyid_censo'>censo</span><span class='rparen'>)</span> 
      <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_nombre'>nombre</span><span class='comma'>,</span> <span class='id identifier rubyid_tipo'>tipo</span><span class='comma'>,</span> <span class='id identifier rubyid_descripcion'>descripcion</span><span class='rparen'>)</span>
      <span class='ivar'>@tipo_ganado</span> <span class='op'>=</span> <span class='id identifier rubyid_tipo_ganado'>tipo_ganado</span>
      <span class='ivar'>@destino</span> <span class='op'>=</span> <span class='id identifier rubyid_destino'>destino</span>
      <span class='ivar'>@numero_animales</span> <span class='op'>=</span> <span class='id identifier rubyid_numero_animales'>numero_animales</span>
      <span class='ivar'>@precio_unitario</span> <span class='op'>=</span> <span class='id identifier rubyid_precio_unitario'>precio_unitario</span>
      <span class='ivar'>@precio_venta</span> <span class='op'>=</span> <span class='id identifier rubyid_precio_venta'>precio_venta</span>
      <span class='ivar'>@censo</span> <span class='op'>=</span> <span class='id identifier rubyid_censo'>censo</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<h2 id="label-M-C3-A9todos+de+instancia">Métodos de instancia</h2>

<h3 id="label-M-C3-A9todo+to_s">Método to_s</h3>

<p>Método para obtener una cadena con la información de la granja ganadera correctamente formateada.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span> 
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='kw'>super</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nTipo de ganado: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@tipo_ganado</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nDestino: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@destino</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nNúmero de animales: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@numero_animales</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nPrecio unitario: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@precio_unitario</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nPrecio de venta: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@precio_venta</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nCenso: [animal id: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_censo'>censo</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_copycenso'>copycenso</span> <span class='op'>=</span> <span class='ivar'>@censo</span>
  <span class='id identifier rubyid_copycenso'>copycenso</span><span class='period'>.</span><span class='id identifier rubyid_drop'>drop</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, animal id: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>En este método lo más destacable es el censo, donde se muestra el id de los animales que son introducidos en la granja.</p>

<h2 id="label-M-C3-B3dulo+enumerable">Módulo enumerable</h2>

<p>La clase Ganadera para que sea enumerable se necesitan los siguientes pasos:</p>
<ul><li>
<p>Incluirlo <code>ruby include Enumerable </code></p>
</li><li>
<p>Método each <code>ruby def each   yield @numero_animales   yield @precio_unitario   yield @precio_venta end </code></p>
</li></ul>

<h2 id="label-M-C3-B3dulo+Comparable">Módulo Comparable</h2>

<p>La clase Ganadera para que sea enumerable se necesitan los siguientes pasos:</p>
<ul><li>
<p>Incluirlo <code>ruby include Comparable </code></p>
</li><li>
<p>Método &lt;=&gt; “`ruby def &lt;=&gt;(other)  return @edad &lt;=&gt; other.edad end</p>
</li></ul>

<p>def +(valor)  return Ganado.new(@id, @edad + valor, @sexo, @peso, @raza, @aprovechamiento, @alimentacion) end “`</p>

<h1 id="label-Clase+Animal">Clase Animal</h1>

<p>Clase para representar animales.</p>

<h2 id="label-Atributos+de+instancia">Atributos de instancia</h2>
<ul><li>
<p>id: atributo que contiene el identificador del animal.</p>
</li><li>
<p>edad: atributo para representar la edad del animal en días.</p>
</li><li>
<p>sexo: atributo para representar el sexo del animal.</p>
</li><li>
<p>peso: atributo para representar el peso del animal en gramos.</p>
</li></ul>

<pre class="code ruby"><code class="ruby">module Farm
  class Animal
    attr_reader :id, :edad, :sexo, :peso
    def initialize(id, edad, sexo, peso)
      @id = id
      @edad = edad
      @sexo = sexo
      @peso = peso
    end
  end
</code></pre>

<h2 id="label-Atributos+de+clase">Atributos de clase</h2>
<ul><li>
<p>animal_count: atributo creado para contar el número de objetos que se han instanciadon de la clase.</p>
</li></ul>

<pre class="code ruby"><code class="ruby">module Farm
  class Animal
    attr_reader :id, :edad, :sexo, :peso

    @@animal_count = 0

    def initialize(id, edad, sexo, peso)
      @id = id
      @edad = edad
      @sexo = sexo
      @peso = peso
      @@animal_count += 1
    end
  end
</code></pre>

<h2 id="label-M-C3-A9todos+de+instancia">Métodos de instancia</h2>

<h3 id="label-to_s">to_s</h3>

<p>Retorna una cadena con la información de la clase Animal correctamente formateada</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Animal con id: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nEdad (días): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_edad'>edad</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nSexo: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_sexo'>sexo</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nPeso (gramos): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_peso'>peso</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<h3 id="label-3C-3D-3E">&lt;=&gt;</h3>

<p>Método usando el módulo comparable usado para poder comparar a los animales por su peso.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='op'>&lt;=&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_peso'>peso</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_peso'>peso</span>
<span class='kw'>end</span>
</code></pre>

<h2 id="label-M-C3-A9todos+de+clase">Métodos de clase</h2>

<h3 id="label-self.animal_count">self.animal_count</h3>

<p>Como los atributos de clase no son visibles fuera de la clase, se necesita crear un método de clase animal_count que retorne el atributo de clase <code>@@animal_count</code>.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_animal_count'>animal_count</span>
  <span class='cvar'>@@animal_count</span>
<span class='kw'>end</span>
</code></pre>

<h1 id="label-Ganado">Ganado</h1>

<p>Clase heredada de Animal creada para representar Ganado.</p>

<h2 id="label-Atributos">Atributos</h2>

<p>Esta clase contiene todos los atributos del padre (Animal)</p>

<p>Y a continuación contiene los siguientes atributos: - raza: atributo para representar la raza del animal. - aprovechamiento: atributo para representar el tipo de aprovechamiento (carne, piel, leche) - alimentacion: atributo para representar el tipo de alimentación (hervívoro, omnívoro)</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>module</span> <span class='const'><span class='object_link'><a href="Farm.html" title="Farm (module)">Farm</a></span></span>
  <span class='kw'>class</span> <span class='const'>Ganado</span> <span class='op'>&lt;</span> <span class='const'>Animal</span>
    <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:raza</span><span class='comma'>,</span> <span class='symbol'>:aprovechamiento</span><span class='comma'>,</span> <span class='id identifier rubyid_alimentacion'>alimentacion</span>
    <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_edad'>edad</span><span class='comma'>,</span> <span class='id identifier rubyid_sexo'>sexo</span><span class='comma'>,</span> <span class='id identifier rubyid_peso'>peso</span><span class='comma'>,</span> <span class='id identifier rubyid_raza'>raza</span><span class='comma'>,</span> <span class='id identifier rubyid_aprovechamiento'>aprovechamiento</span><span class='comma'>,</span> <span class='id identifier rubyid_alimentacion'>alimentacion</span><span class='rparen'>)</span>
      <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_edad'>edad</span><span class='comma'>,</span> <span class='id identifier rubyid_sexo'>sexo</span><span class='comma'>,</span> <span class='id identifier rubyid_peso'>peso</span><span class='rparen'>)</span>
      <span class='ivar'>@raza</span> <span class='op'>=</span> <span class='id identifier rubyid_raza'>raza</span>
      <span class='ivar'>@aprovechamiento</span> <span class='op'>=</span> <span class='id identifier rubyid_aprovechamiento'>aprovechamiento</span>
      <span class='ivar'>@alimentacion</span> <span class='op'>=</span> <span class='id identifier rubyid_alimentacion'>alimentacion</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<h2 id="label-M-C3-A9todos">Métodos</h2>

<h3 id="label-to_s">to_s</h3>

<p>Usando <code>super</code> desde el método to_s se está llamando al método to_s de la clase padre Animal, como este devuelve una string es tan fácil como concatenar esa salida con la nueva de ganado para que salga toda la información formateada.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span> 
  <span class='kw'>super</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nGanado de raza: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_raza'>raza</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nTipo de aprovechamiento: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_aprovechamiento'>aprovechamiento</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nTipo de alimentación </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_alimentacion'>alimentacion</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<h3 id="label-3C-3D-3E">&lt;=&gt;</h3>

<p>Método usando el módulo comparable usado para poder comparar al ganado por su edad.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='op'>&lt;=&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@edad</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_edad'>edad</span><span class='period'>.</span><span class='id identifier rubyid_peso'>peso</span>
<span class='kw'>end</span>
</code></pre>

<h3 id="label-2B">+</h3>

<p>Sobrecarga del operador + de objeto más un valor en la que se devuleve una copia de un objeto Ganado.</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_valor'>valor</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='const'>Ganado</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@id</span><span class='comma'>,</span> <span class='ivar'>@edad</span> <span class='op'>+</span> <span class='id identifier rubyid_valor'>valor</span><span class='comma'>,</span> <span class='ivar'>@sexo</span><span class='comma'>,</span> <span class='ivar'>@peso</span><span class='comma'>,</span> <span class='ivar'>@raza</span><span class='comma'>,</span> <span class='ivar'>@aprovechamiento</span><span class='comma'>,</span> <span class='ivar'>@alimentacion</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>
</div></div>

      <div id="footer">
  Generated on Fri Jan 21 12:36:45 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.7.2).
</div>

    </div>
  </body>
</html>